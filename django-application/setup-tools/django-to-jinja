#! /bin/bash

####################################################################################################

fix() {
  file=$1

  # "{% url '...' %}"
  sed -e "s/{% url /{{ _url(/;s/' %}/') }}/" -i $file

  # {% trans "..." %}
  sed -e 's/{% trans /{{ _(/;s/" %}/") }}/' -i $file

  # sed -e "s/{% url '([^']+)' %}/{{ _url('$1') }}/" $file
  # sed -e 's/{% trans "([^"]+)" %}/{{ _("$1") }}/' $file
}

for f in $1; do
  fix $f
done

####################################################################################################
#
# End
#
####################################################################################################
