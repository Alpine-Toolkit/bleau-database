{# -*- engine: jinja2 -*- #}
{% extends "geoportail-base.html" %}

{% block head %}
  {{ super() }}

  <style>
   .bigmap {
       position: fixed;
       left: 0;
       top: 0;
       width: 100%;
       height: 100%;
   }
   .ol-viewport {
       position: fixed;
       top: 0;
       left: 0;
       z-index: 1;
   }
   .ol-zoom {
       top: 3em;
       left: 0.5em;
   }
   .ol-zoom-extent {
       top: 7em;
       left: 0.5em;
   }
   #toolbar {
       position: fixed;
       top: 0;
       left: 0;
       z-index: 2;
       padding: 4px;
       background: #D1FEBB; // #DEFFCD
   }
   #toolbar .btn {
       margin-bottom: 0;
   }
   #mouse-position, .custom-mouse-position {
       display: inline-block;
       margin-bottom: 0;
   }
   #mouse-position {
       width: 20em;
   }
   .custom-mouse-position {
   }
   #toolbar form {
       display: inline-block;
   }
  </style>
{% endblock %}

{% block nav %}{% endblock %}

{% block body_container %}
  <div  id="feature-modal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
	<div class="modal-header">
	  {#
          <button type="button" class="close" data-dismiss="modal">
	    <span aria-hidden="true">&times;</span><span class="sr-only">Annuler</span></button>
	  #}
          <h4 class="modal-title">Ajouter une entité</h4>
	</div>
	<div class="modal-body">
	  <table class="table table-sm">
	    <tbody>
	      <tr>
		<td>
		  <a href="http://spatialreference.org/ref/epsg/wgs-84/">
		    WGS 84
		  </a></td>
		<td id="feature-wsg84-position"></td>
	      </tr>
	      <tr>
		<td>
		  <a href="http://spatialreference.org/ref/sr-org/epsg3857-wgs84-web-mercator-auxiliary-sphere/">
		    Mercator
		  </a></td>
		<td id="feature-mercator-position"></td>
	      </tr>
	    </tbody>
	  </table>
	  <form class="form">
	    <div id="feature-name-group" class="form-group">
              <label for="feature-name" class="control-label">Nom:</label>
              <input id="feature-name" type="text" class="form-control" autocomplete=off></input>
            </div>
	    <div class="form-group">
	      <label for="feature-category" class="control-label">Catégorie</label>
	      <select id="feature-category"> {# class="form-control" #}
		<option value="gare">Gare</option>
		<option value="parking">Parking</option>
		<option value="point d'eau">Point d'eau</option>
	      </select>
	    </div>
	    <div class="form-group">
              <label for="feature-note" class="control-label">Nom:</label>
              <textarea id="feature-note" class="form-control" autocomplete=off></textarea>
            </div>
	  </form>
	</div>
	<div class="modal-footer">
          <button id="cancel-feature-button" type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
          <button id="save-feature-button" type="button" class="btn btn-primary">Enregistrer</button>
	</div>
      </div>
    </div>
  </div>
  <div id="map" class="bigmap">
    {# <div id="popup"></div> #}
    <div id="toolbar">
      <a id="help-button" class="btn btn-sm btn-primary" role="button">
	<i class="fa fa-info"></i></a>
      <div id="map-toolbar" class="btn-group btn-group-sm" data-toggle="buttons">
	<label id="pan" class="btn btn-primary active">
	  <input type="radio" name="map-toolbar-radio" autocomplete="off" checked> <i class="fa fa-arrows"></i>
	  {# Pan #}
	</label>
	<label id="point" class="btn btn-primary">
	  <input type="radio" name="map-toolbar-radio" autocomplete="off">
	  <i class="fa fa-plus"></i>
	  {# Place #}
	</label>
	<label id="modify" class="btn btn-primary">
	  <input type="radio" name="map-toolbar-radio" autocomplete="off">
	  <i class="fa fa-pencil"></i>
	  {# Modifier #}
	</label>
	<label id="select" class="btn btn-primary">
	  <input type="radio" name="map-toolbar-radio" autocomplete="off">
	  <i class="fa fa-mouse-pointer"></i>
	  {# Selectioner #}
	</label>
      </div>
      <a id="download-feature-button" class="btn btn-sm btn-primary" role="button">
	<i class="fa fa-file-text"></i>
	Download <span id="number-of-features">0</span> places</a>
      <form class="form-inline">
	<div class="form-group">
	  <label>Projection</label>
	  <select id="projection" autocomplete=off> {# class="form-control" #}
	    <option value="EPSG:4326">WGS 84</option>
	    <option value="EPSG:3857">Mercator</option>
	  </select>
	</div>
	<div class="form-group">
	  <label>Precision</label>
	  <input id="precision"	style="width: 3em" type="number" min="0" max="12" value="4" autocomplete=off/>
	</div>
      </form>
      <p id="mouse-position">Position : &nbsp;</p>
    </div>
  </div>
  {# {{ geoportail_bigmap() }} #}
{% endblock %}

{% block geoportail_script %}
  var show_edit_toolbar = true;
{% endblock %}
